{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/assets/scripts/components/accordions.js","src/assets/scripts/components/dialogs.js","src/assets/scripts/components/states.js","src/assets/scripts/components/tabPanels.js","src/assets/scripts/main.js","src/assets/scripts/tools/preventNested.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* accordions\n ========================================================================== */\n\nimport preventNested from './../tools/preventNested';\n\nconst closeTab = function (tab, panel) {\n  tab.setAttribute('tabindex', -1);\n  tab.setAttribute('aria-expanded', false);\n  panel.setAttribute('aria-hidden', true);\n};\n\nconst closeTabs = function (currentTab, tabs, panels) {\n  tabs.forEach((tab, index) => {\n    if (tab !== currentTab) {\n      closeTab(tab, panels[index]);\n    }\n  });\n};\n\nconst deselectTab = function (tab) {\n  tab.setAttribute('tabindex', -1);\n  tab.setAttribute('aria-selected', false);\n};\n\nconst deselectTabs = function (tabs) {\n  tabs.forEach((tab) => {\n    deselectTab(tab);\n  });\n};\n\nconst toggleTab = function (tab, panel, { tabs, panels }, { multiselectable }) {\n  if (!multiselectable) {\n    closeTabs(tab, tabs, panels);\n  }\n\n  tab.focus();\n  tab.setAttribute('tabindex', 0);\n  tab.setAttribute('aria-selected', true);\n  tab.setAttribute('aria-expanded', tab.getAttribute('aria-expanded') !== 'true');\n  panel.setAttribute('aria-hidden', panel.getAttribute('aria-hidden') !== 'true');\n};\n\nconst selectTab = function (tab, tabs) {\n  if (tabs) {\n    deselectTabs(tabs);\n    tab.focus();\n  }\n\n  tab.setAttribute('tabindex', 0);\n  tab.setAttribute('aria-selected', true);\n};\n\nexport default function accordion(component, keyCodes) {\n  const tabs = preventNested(component.querySelectorAll('[role=\"tab\"]'), component);\n  const panels = preventNested(component.querySelectorAll('[role=\"tabpanel\"]'), component);\n  const tabPanels = { tabs, panels };\n  const firstTab = tabs[0];\n  const lastTab = tabs[tabs.length - 1];\n  const multiselectable = (component.getAttribute('aria-multiselectable') || 'true') === 'true';\n\n  tabs.forEach((tab, index) => {\n    const prevTab = tabs[index - 1] || lastTab;\n    const nextTab = tabs[index + 1] || firstTab;\n    const panel = document.getElementById(tab.getAttribute('aria-controls'));\n\n    // toggle tab\n    tab.addEventListener('click', (event) => {\n      event.preventDefault();\n\n      toggleTab(tab, panel, tabPanels, { multiselectable });\n    });\n\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.enter || event.which === keyCodes.escape) {\n        event.preventDefault();\n\n        toggleTab(tab, panel, tabPanels, { multiselectable });\n      }\n    });\n\n    // select tab\n    tab.addEventListener('focus', () => {\n      selectTab(tab);\n    });\n\n    // select prev tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.left || event.which === keyCodes.up) {\n        event.preventDefault();\n\n        selectTab(prevTab, tabs);\n      }\n    });\n\n    // select next tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.right || event.which === keyCodes.down) {\n        event.preventDefault();\n\n        selectTab(nextTab, tabs);\n      }\n    });\n\n    // select first tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.home) {\n        event.preventDefault();\n\n        selectTab(firstTab, tabs);\n      }\n    });\n\n    // select last tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.end) {\n        event.preventDefault();\n\n        selectTab(lastTab, tabs);\n      }\n    });\n  });\n}\n","/* dialogs\n ========================================================================== */\n\nconst page = document.querySelector('.js-page');\nconst doc = document.querySelector('.js-document');\n\nconst openDialog = function (component, keyCodes) {\n  const focusableElems = component.querySelectorAll('[href], button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"]');\n  const firstFocusableElem = focusableElems[0];\n  const secondFocusableElem = focusableElems[1];\n  const lastFocusableElem = focusableElems[focusableElems.length - 1];\n\n  component.setAttribute('aria-hidden', false);\n  doc.setAttribute('aria-hidden', true);\n  page.classList.add('is-inactive');\n\n  // return if no focusable element\n  if (!firstFocusableElem) {\n    return;\n  }\n\n  window.setTimeout(() => {\n    if (secondFocusableElem) {\n      secondFocusableElem.focus();\n    } else {\n      firstFocusableElem.focus();\n    }\n\n    // trapping focus inside the dialog\n    focusableElems.forEach((focusableElem) => {\n      if (focusableElem.addEventListener) {\n        focusableElem.addEventListener('keydown', (event) => {\n          const tab = event.which === keyCodes.tab;\n\n          if (!tab) {\n            return;\n          }\n          if (event.shiftKey) {\n            if (event.target === firstFocusableElem) { // shift + tab\n              event.preventDefault();\n\n              lastFocusableElem.focus();\n            }\n          } else if (event.target === lastFocusableElem) { // tab\n            event.preventDefault();\n\n            firstFocusableElem.focus();\n          }\n        });\n      }\n    });\n  }, 100);\n};\n\nconst closeDialog = function (component, src) {\n  const nested = (src.dataset.nested || 'false') === 'true';\n\n  // check if dialog is inside another dialog\n  if (!nested) {\n    doc.setAttribute('aria-hidden', false);\n    page.classList.remove('is-inactive');\n  }\n\n  component.setAttribute('aria-hidden', true);\n\n  // restoring focus\n  src.focus();\n};\n\nexport default function dialog(src, keyCodes) {\n  const component = document.querySelector(`.${src.dataset.target}`);\n  const dismissTargets = component.querySelectorAll('[data-dismiss]');\n  const { overlay } = src.dataset;\n\n  // open dialog\n  src.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    openDialog(component, keyCodes);\n  });\n\n  src.addEventListener('keydown', (event) => {\n    if (event.which === keyCodes.enter) {\n      event.preventDefault();\n\n      openDialog(component, keyCodes);\n    }\n  });\n\n  // close dialog\n  component.addEventListener('keydown', (event) => {\n    if (event.which === keyCodes.escape) {\n      closeDialog(component, src);\n    }\n  });\n\n  dismissTargets.forEach((dismissTarget) => {\n    const target = document.querySelector(`.${dismissTarget.dataset.dismiss}`);\n\n    dismissTarget.addEventListener('click', (event) => {\n      event.preventDefault();\n\n      closeDialog(target, src);\n    });\n    dismissTarget.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.enter) {\n        event.preventDefault();\n\n        closeDialog(target, src);\n      }\n    });\n  });\n\n  window.addEventListener('click', (event) => {\n    if (event.target === component && (!overlay || overlay === 'true')) {\n      closeDialog(component, src);\n    }\n  });\n}\n","/* states\n ========================================================================== */\n\nconst add = 'add';\nconst remove = 'remove';\nconst toggle = 'toggle';\nconst ariaAttributes = [\n  {\n    type: 'aria-hidden',\n    init: true,\n  },\n  {\n    type: 'aria-disabled',\n    init: true,\n  },\n  {\n    type: 'aria-selected',\n    init: false,\n  },\n  {\n    type: 'aria-expanded',\n    init: false,\n  },\n  {\n    type: 'aria-pressed',\n    init: false,\n  },\n  {\n    type: 'aria-checked',\n    init: false,\n  },\n];\n\nconst setClass = function (elem, stateClass, behaviour) {\n  if (stateClass !== 'false') {\n    if (behaviour === add) {\n      elem.classList.add(stateClass);\n    } else if (behaviour === remove) {\n      elem.classList.remove(stateClass);\n    } else {\n      elem.classList.toggle(stateClass);\n    }\n  }\n};\n\nconst setAria = function (elem, behaviour) {\n  ariaAttributes.forEach((ariaAttribute) => {\n    const { type, init } = ariaAttribute;\n\n    if (elem.hasAttribute(type)) {\n      if (behaviour === add) {\n        elem.setAttribute(type, !init);\n      } else if (behaviour === remove) {\n        elem.setAttribute(type, init);\n      } else {\n        elem.setAttribute(type, elem.getAttribute(type) !== 'true');\n      }\n    }\n  });\n};\n\nconst setTabindex = function (elem, tabindex, behaviour) {\n  if (tabindex === 'true') {\n    if (behaviour === add) {\n      elem.setAttribute('tabindex', 0);\n    } else if (behaviour === remove) {\n      elem.setAttribute('tabindex', -1);\n    } else {\n      elem.setAttribute('tabindex', elem.getAttribute('tabindex') === '-1' ? 0 : -1);\n    }\n  }\n};\n\nconst setState = function (parameters) {\n  parameters.behaviours.forEach((behaviour, index) => {\n    const elems = document.querySelectorAll(`.${parameters.targets[index]}`);\n    const stateClass = parameters.states[index];\n    const tabindex = parameters.tabindexes !== null ? parameters.tabindexes[index] : null;\n\n    elems.forEach((elem) => {\n      if (behaviour === add) {\n        setClass(elem, stateClass, add);\n        setAria(elem, add);\n        setTabindex(elem, tabindex, add);\n      } else if (behaviour === remove) {\n        setClass(elem, stateClass, remove);\n        setAria(elem, remove);\n        setTabindex(elem, tabindex, remove);\n      } else {\n        setClass(elem, stateClass, toggle);\n        setAria(elem, toggle);\n        setTabindex(elem, tabindex, toggle);\n      }\n    });\n  });\n};\n\nexport default function state(elem, keyCodes) {\n  const parameters = {\n    behaviours: elem.dataset.behaviour.split(', '),\n    states: elem.dataset.state.split(', '),\n    tabindexes: elem.dataset.tabindex ? elem.dataset.tabindex.split(', ') : null,\n    targets: elem.dataset.target.split(', '),\n  };\n\n  elem.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    setState(parameters);\n  });\n  elem.addEventListener('keydown', (event) => {\n    if (event.which === keyCodes.enter) {\n      event.preventDefault();\n\n      setState(parameters);\n    }\n  });\n}\n","/* tab panels\n ========================================================================== */\n\nimport preventNested from './../tools/preventNested';\n\nconst closeTab = function (tab, panel) {\n  tab.setAttribute('tabindex', -1);\n  tab.setAttribute('aria-selected', false);\n  panel.setAttribute('aria-hidden', true);\n};\n\nconst closeTabs = function (tabs, panels) {\n  tabs.forEach((tab, index) => {\n    closeTab(tab, panels[index]);\n  });\n};\n\nconst openTab = function (tab, panel, { tabs, panels }) {\n  closeTabs(tabs, panels);\n\n  tab.focus();\n  tab.setAttribute('tabindex', 0);\n  tab.setAttribute('aria-selected', true);\n  panel.setAttribute('aria-hidden', false);\n};\n\nexport default function tabPanel(component, keyCodes) {\n  const tabs = preventNested(component.querySelectorAll('[role=\"tab\"]'), component);\n  const panels = preventNested(component.querySelectorAll('[role=\"tabpanel\"]'), component);\n  const tabPanels = { tabs, panels };\n  const firstTab = tabs[0];\n  const lastTab = tabs[tabs.length - 1];\n  const firstPanel = document.getElementById(firstTab.getAttribute('aria-controls'));\n  const lastPanel = document.getElementById(lastTab.getAttribute('aria-controls'));\n\n  tabs.forEach((tab, index) => {\n    const prevTab = tabs[index - 1] || lastTab;\n    const nextTab = tabs[index + 1] || firstTab;\n    const panel = document.getElementById(tab.getAttribute('aria-controls'));\n    const prevPanel = document.getElementById(prevTab.getAttribute('aria-controls'));\n    const nextPanel = document.getElementById(nextTab.getAttribute('aria-controls'));\n\n    // open tab\n    tab.addEventListener('click', (event) => {\n      event.preventDefault();\n\n      openTab(tab, panel, tabPanels);\n    });\n\n    // open prev tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.left || event.which === keyCodes.up) {\n        event.preventDefault();\n\n        openTab(prevTab, prevPanel, tabPanels);\n      }\n    });\n\n    // open next tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.right || event.which === keyCodes.down) {\n        event.preventDefault();\n\n        openTab(nextTab, nextPanel, tabPanels);\n      }\n    });\n\n    // open first tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.home) {\n        event.preventDefault();\n\n        openTab(firstTab, firstPanel, tabPanels);\n      }\n    });\n\n    // open last tab\n    tab.addEventListener('keydown', (event) => {\n      if (event.which === keyCodes.end) {\n        event.preventDefault();\n\n        openTab(lastTab, lastPanel, tabPanels);\n      }\n    });\n  });\n}\n","/* main\n ========================================================================== */\n\nimport state from './components/states';\nimport dialog from './components/dialogs';\nimport tabPanel from './components/tabPanels';\nimport accordion from './components/accordions';\n\nconst keyCodes = {\n  tab: 9,\n  enter: 13,\n  escape: 27,\n  end: 35,\n  home: 36,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n};\n\nconst testComponentType = function (component) {\n  const dataComponent = component.dataset.component;\n\n  if (dataComponent === 'state') {\n    state(component, keyCodes);\n  }\n  if (dataComponent === 'dialog') {\n    dialog(component, keyCodes);\n  }\n  if (dataComponent === 'tab') {\n    tabPanel(component, keyCodes);\n  }\n  if (dataComponent === 'accordion') {\n    accordion(component, keyCodes);\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const components = document.querySelectorAll('[data-component]');\n\n  components.forEach((component) => {\n    testComponentType(component);\n  });\n\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      mutation.addedNodes.forEach((component) => {\n        if (typeof component.getAttribute === 'function') {\n          if (component.getAttribute('data-component')) {\n            testComponentType(component);\n          }\n        }\n      });\n    });\n  });\n  observer.observe(document.body, {\n    childList: true,\n    subtree: true,\n  });\n});\n","/* prevent nested\n ========================================================================== */\n\nexport default function preventNested(selectors, component) {\n  const elems = [];\n\n  selectors.forEach((selector) => {\n    let parent = selector.parentNode;\n\n    while (parent !== component) {\n      if (parent.dataset.component === component.dataset.component) {\n        return;\n      }\n      parent = parent.parentNode;\n    }\n    elems.push(selector);\n  });\n\n  return elems;\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXNzZXRzL3NjcmlwdHMvY29tcG9uZW50cy9hY2NvcmRpb25zLmpzIiwic3JjL2Fzc2V0cy9zY3JpcHRzL2NvbXBvbmVudHMvZGlhbG9ncy5qcyIsInNyYy9hc3NldHMvc2NyaXB0cy9jb21wb25lbnRzL3N0YXRlcy5qcyIsInNyYy9hc3NldHMvc2NyaXB0cy9jb21wb25lbnRzL3RhYlBhbmVscy5qcyIsInNyYy9hc3NldHMvc2NyaXB0cy9tYWluLmpzIiwic3JjL2Fzc2V0cy9zY3JpcHRzL3Rvb2xzL3ByZXZlbnROZXN0ZWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztrQkNvRHdCLFM7O0FBakR4Qjs7Ozs7O0FBRUEsSUFBTSxXQUFXLFNBQVgsUUFBVyxDQUFVLEdBQVYsRUFBZSxLQUFmLEVBQXNCO0FBQ3JDLE1BQUksWUFBSixDQUFpQixVQUFqQixFQUE2QixDQUFDLENBQTlCO0FBQ0EsTUFBSSxZQUFKLENBQWlCLGVBQWpCLEVBQWtDLEtBQWxDO0FBQ0EsUUFBTSxZQUFOLENBQW1CLGFBQW5CLEVBQWtDLElBQWxDO0FBQ0QsQ0FKRCxDLENBTEE7OztBQVdBLElBQU0sWUFBWSxTQUFaLFNBQVksQ0FBVSxVQUFWLEVBQXNCLElBQXRCLEVBQTRCLE1BQTVCLEVBQW9DO0FBQ3BELE9BQUssT0FBTCxDQUFhLFVBQUMsR0FBRCxFQUFNLEtBQU4sRUFBZ0I7QUFDM0IsUUFBSSxRQUFRLFVBQVosRUFBd0I7QUFDdEIsZUFBUyxHQUFULEVBQWMsT0FBTyxLQUFQLENBQWQ7QUFDRDtBQUNGLEdBSkQ7QUFLRCxDQU5EOztBQVFBLElBQU0sY0FBYyxTQUFkLFdBQWMsQ0FBVSxHQUFWLEVBQWU7QUFDakMsTUFBSSxZQUFKLENBQWlCLFVBQWpCLEVBQTZCLENBQUMsQ0FBOUI7QUFDQSxNQUFJLFlBQUosQ0FBaUIsZUFBakIsRUFBa0MsS0FBbEM7QUFDRCxDQUhEOztBQUtBLElBQU0sZUFBZSxTQUFmLFlBQWUsQ0FBVSxJQUFWLEVBQWdCO0FBQ25DLE9BQUssT0FBTCxDQUFhLFVBQUMsR0FBRCxFQUFTO0FBQ3BCLGdCQUFZLEdBQVo7QUFDRCxHQUZEO0FBR0QsQ0FKRDs7QUFNQSxJQUFNLFlBQVksU0FBWixTQUFZLENBQVUsR0FBVixFQUFlLEtBQWYsZUFBNkQ7QUFBQSxNQUFyQyxJQUFxQyxRQUFyQyxJQUFxQztBQUFBLE1BQS9CLE1BQStCLFFBQS9CLE1BQStCO0FBQUEsTUFBbkIsZUFBbUIsU0FBbkIsZUFBbUI7O0FBQzdFLE1BQUksQ0FBQyxlQUFMLEVBQXNCO0FBQ3BCLGNBQVUsR0FBVixFQUFlLElBQWYsRUFBcUIsTUFBckI7QUFDRDs7QUFFRCxNQUFJLEtBQUo7QUFDQSxNQUFJLFlBQUosQ0FBaUIsVUFBakIsRUFBNkIsQ0FBN0I7QUFDQSxNQUFJLFlBQUosQ0FBaUIsZUFBakIsRUFBa0MsSUFBbEM7QUFDQSxNQUFJLFlBQUosQ0FBaUIsZUFBakIsRUFBa0MsSUFBSSxZQUFKLENBQWlCLGVBQWpCLE1BQXNDLE1BQXhFO0FBQ0EsUUFBTSxZQUFOLENBQW1CLGFBQW5CLEVBQWtDLE1BQU0sWUFBTixDQUFtQixhQUFuQixNQUFzQyxNQUF4RTtBQUNELENBVkQ7O0FBWUEsSUFBTSxZQUFZLFNBQVosU0FBWSxDQUFVLEdBQVYsRUFBZSxJQUFmLEVBQXFCO0FBQ3JDLE1BQUksSUFBSixFQUFVO0FBQ1IsaUJBQWEsSUFBYjtBQUNBLFFBQUksS0FBSjtBQUNEOztBQUVELE1BQUksWUFBSixDQUFpQixVQUFqQixFQUE2QixDQUE3QjtBQUNBLE1BQUksWUFBSixDQUFpQixlQUFqQixFQUFrQyxJQUFsQztBQUNELENBUkQ7O0FBVWUsU0FBUyxTQUFULENBQW1CLFNBQW5CLEVBQThCLFFBQTlCLEVBQXdDO0FBQ3JELE1BQU0sT0FBTyw2QkFBYyxVQUFVLGdCQUFWLENBQTJCLGNBQTNCLENBQWQsRUFBMEQsU0FBMUQsQ0FBYjtBQUNBLE1BQU0sU0FBUyw2QkFBYyxVQUFVLGdCQUFWLENBQTJCLG1CQUEzQixDQUFkLEVBQStELFNBQS9ELENBQWY7QUFDQSxNQUFNLFlBQVksRUFBRSxVQUFGLEVBQVEsY0FBUixFQUFsQjtBQUNBLE1BQU0sV0FBVyxLQUFLLENBQUwsQ0FBakI7QUFDQSxNQUFNLFVBQVUsS0FBSyxLQUFLLE1BQUwsR0FBYyxDQUFuQixDQUFoQjtBQUNBLE1BQU0sa0JBQWtCLENBQUMsVUFBVSxZQUFWLENBQXVCLHNCQUF2QixLQUFrRCxNQUFuRCxNQUErRCxNQUF2Rjs7QUFFQSxPQUFLLE9BQUwsQ0FBYSxVQUFDLEdBQUQsRUFBTSxLQUFOLEVBQWdCO0FBQzNCLFFBQU0sVUFBVSxLQUFLLFFBQVEsQ0FBYixLQUFtQixPQUFuQztBQUNBLFFBQU0sVUFBVSxLQUFLLFFBQVEsQ0FBYixLQUFtQixRQUFuQztBQUNBLFFBQU0sUUFBUSxTQUFTLGNBQVQsQ0FBd0IsSUFBSSxZQUFKLENBQWlCLGVBQWpCLENBQXhCLENBQWQ7O0FBRUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLE9BQXJCLEVBQThCLFVBQUMsS0FBRCxFQUFXO0FBQ3ZDLFlBQU0sY0FBTjs7QUFFQSxnQkFBVSxHQUFWLEVBQWUsS0FBZixFQUFzQixTQUF0QixFQUFpQyxFQUFFLGdDQUFGLEVBQWpDO0FBQ0QsS0FKRDs7QUFNQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsS0FBekIsSUFBa0MsTUFBTSxLQUFOLEtBQWdCLFNBQVMsTUFBL0QsRUFBdUU7QUFDckUsY0FBTSxjQUFOOztBQUVBLGtCQUFVLEdBQVYsRUFBZSxLQUFmLEVBQXNCLFNBQXRCLEVBQWlDLEVBQUUsZ0NBQUYsRUFBakM7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLE9BQXJCLEVBQThCLFlBQU07QUFDbEMsZ0JBQVUsR0FBVjtBQUNELEtBRkQ7O0FBSUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsSUFBekIsSUFBaUMsTUFBTSxLQUFOLEtBQWdCLFNBQVMsRUFBOUQsRUFBa0U7QUFDaEUsY0FBTSxjQUFOOztBQUVBLGtCQUFVLE9BQVYsRUFBbUIsSUFBbkI7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsS0FBekIsSUFBa0MsTUFBTSxLQUFOLEtBQWdCLFNBQVMsSUFBL0QsRUFBcUU7QUFDbkUsY0FBTSxjQUFOOztBQUVBLGtCQUFVLE9BQVYsRUFBbUIsSUFBbkI7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsSUFBN0IsRUFBbUM7QUFDakMsY0FBTSxjQUFOOztBQUVBLGtCQUFVLFFBQVYsRUFBb0IsSUFBcEI7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsR0FBN0IsRUFBa0M7QUFDaEMsY0FBTSxjQUFOOztBQUVBLGtCQUFVLE9BQVYsRUFBbUIsSUFBbkI7QUFDRDtBQUNGLEtBTkQ7QUFPRCxHQTVERDtBQTZERDs7Ozs7Ozs7a0JDcER1QixNO0FBckV4Qjs7O0FBR0EsSUFBTSxPQUFPLFNBQVMsYUFBVCxDQUF1QixVQUF2QixDQUFiO0FBQ0EsSUFBTSxNQUFNLFNBQVMsYUFBVCxDQUF1QixjQUF2QixDQUFaOztBQUVBLElBQU0sYUFBYSxTQUFiLFVBQWEsQ0FBVSxTQUFWLEVBQXFCLFFBQXJCLEVBQStCO0FBQ2hELE1BQU0saUJBQWlCLFVBQVUsZ0JBQVYsQ0FBMkIseUVBQTNCLENBQXZCO0FBQ0EsTUFBTSxxQkFBcUIsZUFBZSxDQUFmLENBQTNCO0FBQ0EsTUFBTSxzQkFBc0IsZUFBZSxDQUFmLENBQTVCO0FBQ0EsTUFBTSxvQkFBb0IsZUFBZSxlQUFlLE1BQWYsR0FBd0IsQ0FBdkMsQ0FBMUI7O0FBRUEsWUFBVSxZQUFWLENBQXVCLGFBQXZCLEVBQXNDLEtBQXRDO0FBQ0EsTUFBSSxZQUFKLENBQWlCLGFBQWpCLEVBQWdDLElBQWhDO0FBQ0EsT0FBSyxTQUFMLENBQWUsR0FBZixDQUFtQixhQUFuQjs7QUFFQTtBQUNBLE1BQUksQ0FBQyxrQkFBTCxFQUF5QjtBQUN2QjtBQUNEOztBQUVELFNBQU8sVUFBUCxDQUFrQixZQUFNO0FBQ3RCLFFBQUksbUJBQUosRUFBeUI7QUFDdkIsMEJBQW9CLEtBQXBCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wseUJBQW1CLEtBQW5CO0FBQ0Q7O0FBRUQ7QUFDQSxtQkFBZSxPQUFmLENBQXVCLFVBQUMsYUFBRCxFQUFtQjtBQUN4QyxVQUFJLGNBQWMsZ0JBQWxCLEVBQW9DO0FBQ2xDLHNCQUFjLGdCQUFkLENBQStCLFNBQS9CLEVBQTBDLFVBQUMsS0FBRCxFQUFXO0FBQ25ELGNBQU0sTUFBTSxNQUFNLEtBQU4sS0FBZ0IsU0FBUyxHQUFyQzs7QUFFQSxjQUFJLENBQUMsR0FBTCxFQUFVO0FBQ1I7QUFDRDtBQUNELGNBQUksTUFBTSxRQUFWLEVBQW9CO0FBQ2xCLGdCQUFJLE1BQU0sTUFBTixLQUFpQixrQkFBckIsRUFBeUM7QUFBRTtBQUN6QyxvQkFBTSxjQUFOOztBQUVBLGdDQUFrQixLQUFsQjtBQUNEO0FBQ0YsV0FORCxNQU1PLElBQUksTUFBTSxNQUFOLEtBQWlCLGlCQUFyQixFQUF3QztBQUFFO0FBQy9DLGtCQUFNLGNBQU47O0FBRUEsK0JBQW1CLEtBQW5CO0FBQ0Q7QUFDRixTQWpCRDtBQWtCRDtBQUNGLEtBckJEO0FBc0JELEdBOUJELEVBOEJHLEdBOUJIO0FBK0JELENBOUNEOztBQWdEQSxJQUFNLGNBQWMsU0FBZCxXQUFjLENBQVUsU0FBVixFQUFxQixHQUFyQixFQUEwQjtBQUM1QyxNQUFNLFNBQVMsQ0FBQyxJQUFJLE9BQUosQ0FBWSxNQUFaLElBQXNCLE9BQXZCLE1BQW9DLE1BQW5EOztBQUVBO0FBQ0EsTUFBSSxDQUFDLE1BQUwsRUFBYTtBQUNYLFFBQUksWUFBSixDQUFpQixhQUFqQixFQUFnQyxLQUFoQztBQUNBLFNBQUssU0FBTCxDQUFlLE1BQWYsQ0FBc0IsYUFBdEI7QUFDRDs7QUFFRCxZQUFVLFlBQVYsQ0FBdUIsYUFBdkIsRUFBc0MsSUFBdEM7O0FBRUE7QUFDQSxNQUFJLEtBQUo7QUFDRCxDQWJEOztBQWVlLFNBQVMsTUFBVCxDQUFnQixHQUFoQixFQUFxQixRQUFyQixFQUErQjtBQUM1QyxNQUFNLFlBQVksU0FBUyxhQUFULE9BQTJCLElBQUksT0FBSixDQUFZLE1BQXZDLENBQWxCO0FBQ0EsTUFBTSxpQkFBaUIsVUFBVSxnQkFBVixDQUEyQixnQkFBM0IsQ0FBdkI7QUFGNEMsTUFHcEMsT0FIb0MsR0FHeEIsSUFBSSxPQUhvQixDQUdwQyxPQUhvQzs7QUFLNUM7O0FBQ0EsTUFBSSxnQkFBSixDQUFxQixPQUFyQixFQUE4QixVQUFDLEtBQUQsRUFBVztBQUN2QyxVQUFNLGNBQU47O0FBRUEsZUFBVyxTQUFYLEVBQXNCLFFBQXRCO0FBQ0QsR0FKRDs7QUFNQSxNQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFFBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsS0FBN0IsRUFBb0M7QUFDbEMsWUFBTSxjQUFOOztBQUVBLGlCQUFXLFNBQVgsRUFBc0IsUUFBdEI7QUFDRDtBQUNGLEdBTkQ7O0FBUUE7QUFDQSxZQUFVLGdCQUFWLENBQTJCLFNBQTNCLEVBQXNDLFVBQUMsS0FBRCxFQUFXO0FBQy9DLFFBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsTUFBN0IsRUFBcUM7QUFDbkMsa0JBQVksU0FBWixFQUF1QixHQUF2QjtBQUNEO0FBQ0YsR0FKRDs7QUFNQSxpQkFBZSxPQUFmLENBQXVCLFVBQUMsYUFBRCxFQUFtQjtBQUN4QyxRQUFNLFNBQVMsU0FBUyxhQUFULE9BQTJCLGNBQWMsT0FBZCxDQUFzQixPQUFqRCxDQUFmOztBQUVBLGtCQUFjLGdCQUFkLENBQStCLE9BQS9CLEVBQXdDLFVBQUMsS0FBRCxFQUFXO0FBQ2pELFlBQU0sY0FBTjs7QUFFQSxrQkFBWSxNQUFaLEVBQW9CLEdBQXBCO0FBQ0QsS0FKRDtBQUtBLGtCQUFjLGdCQUFkLENBQStCLFNBQS9CLEVBQTBDLFVBQUMsS0FBRCxFQUFXO0FBQ25ELFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsS0FBN0IsRUFBb0M7QUFDbEMsY0FBTSxjQUFOOztBQUVBLG9CQUFZLE1BQVosRUFBb0IsR0FBcEI7QUFDRDtBQUNGLEtBTkQ7QUFPRCxHQWZEOztBQWlCQSxTQUFPLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFVBQUMsS0FBRCxFQUFXO0FBQzFDLFFBQUksTUFBTSxNQUFOLEtBQWlCLFNBQWpCLEtBQStCLENBQUMsT0FBRCxJQUFZLFlBQVksTUFBdkQsQ0FBSixFQUFvRTtBQUNsRSxrQkFBWSxTQUFaLEVBQXVCLEdBQXZCO0FBQ0Q7QUFDRixHQUpEO0FBS0Q7Ozs7Ozs7O2tCQ3JCdUIsSztBQWpHeEI7OztBQUdBLElBQU0sTUFBTSxLQUFaO0FBQ0EsSUFBTSxTQUFTLFFBQWY7QUFDQSxJQUFNLFNBQVMsUUFBZjtBQUNBLElBQU0saUJBQWlCLENBQ3JCO0FBQ0UsUUFBTSxhQURSO0FBRUUsUUFBTTtBQUZSLENBRHFCLEVBS3JCO0FBQ0UsUUFBTSxlQURSO0FBRUUsUUFBTTtBQUZSLENBTHFCLEVBU3JCO0FBQ0UsUUFBTSxlQURSO0FBRUUsUUFBTTtBQUZSLENBVHFCLEVBYXJCO0FBQ0UsUUFBTSxlQURSO0FBRUUsUUFBTTtBQUZSLENBYnFCLEVBaUJyQjtBQUNFLFFBQU0sY0FEUjtBQUVFLFFBQU07QUFGUixDQWpCcUIsRUFxQnJCO0FBQ0UsUUFBTSxjQURSO0FBRUUsUUFBTTtBQUZSLENBckJxQixDQUF2Qjs7QUEyQkEsSUFBTSxXQUFXLFNBQVgsUUFBVyxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsRUFBNEIsU0FBNUIsRUFBdUM7QUFDdEQsTUFBSSxlQUFlLE9BQW5CLEVBQTRCO0FBQzFCLFFBQUksY0FBYyxHQUFsQixFQUF1QjtBQUNyQixXQUFLLFNBQUwsQ0FBZSxHQUFmLENBQW1CLFVBQW5CO0FBQ0QsS0FGRCxNQUVPLElBQUksY0FBYyxNQUFsQixFQUEwQjtBQUMvQixXQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLFVBQXRCO0FBQ0QsS0FGTSxNQUVBO0FBQ0wsV0FBSyxTQUFMLENBQWUsTUFBZixDQUFzQixVQUF0QjtBQUNEO0FBQ0Y7QUFDRixDQVZEOztBQVlBLElBQU0sVUFBVSxTQUFWLE9BQVUsQ0FBVSxJQUFWLEVBQWdCLFNBQWhCLEVBQTJCO0FBQ3pDLGlCQUFlLE9BQWYsQ0FBdUIsVUFBQyxhQUFELEVBQW1CO0FBQUEsUUFDaEMsSUFEZ0MsR0FDakIsYUFEaUIsQ0FDaEMsSUFEZ0M7QUFBQSxRQUMxQixJQUQwQixHQUNqQixhQURpQixDQUMxQixJQUQwQjs7O0FBR3hDLFFBQUksS0FBSyxZQUFMLENBQWtCLElBQWxCLENBQUosRUFBNkI7QUFDM0IsVUFBSSxjQUFjLEdBQWxCLEVBQXVCO0FBQ3JCLGFBQUssWUFBTCxDQUFrQixJQUFsQixFQUF3QixDQUFDLElBQXpCO0FBQ0QsT0FGRCxNQUVPLElBQUksY0FBYyxNQUFsQixFQUEwQjtBQUMvQixhQUFLLFlBQUwsQ0FBa0IsSUFBbEIsRUFBd0IsSUFBeEI7QUFDRCxPQUZNLE1BRUE7QUFDTCxhQUFLLFlBQUwsQ0FBa0IsSUFBbEIsRUFBd0IsS0FBSyxZQUFMLENBQWtCLElBQWxCLE1BQTRCLE1BQXBEO0FBQ0Q7QUFDRjtBQUNGLEdBWkQ7QUFhRCxDQWREOztBQWdCQSxJQUFNLGNBQWMsU0FBZCxXQUFjLENBQVUsSUFBVixFQUFnQixRQUFoQixFQUEwQixTQUExQixFQUFxQztBQUN2RCxNQUFJLGFBQWEsTUFBakIsRUFBeUI7QUFDdkIsUUFBSSxjQUFjLEdBQWxCLEVBQXVCO0FBQ3JCLFdBQUssWUFBTCxDQUFrQixVQUFsQixFQUE4QixDQUE5QjtBQUNELEtBRkQsTUFFTyxJQUFJLGNBQWMsTUFBbEIsRUFBMEI7QUFDL0IsV0FBSyxZQUFMLENBQWtCLFVBQWxCLEVBQThCLENBQUMsQ0FBL0I7QUFDRCxLQUZNLE1BRUE7QUFDTCxXQUFLLFlBQUwsQ0FBa0IsVUFBbEIsRUFBOEIsS0FBSyxZQUFMLENBQWtCLFVBQWxCLE1BQWtDLElBQWxDLEdBQXlDLENBQXpDLEdBQTZDLENBQUMsQ0FBNUU7QUFDRDtBQUNGO0FBQ0YsQ0FWRDs7QUFZQSxJQUFNLFdBQVcsU0FBWCxRQUFXLENBQVUsVUFBVixFQUFzQjtBQUNyQyxhQUFXLFVBQVgsQ0FBc0IsT0FBdEIsQ0FBOEIsVUFBQyxTQUFELEVBQVksS0FBWixFQUFzQjtBQUNsRCxRQUFNLFFBQVEsU0FBUyxnQkFBVCxPQUE4QixXQUFXLE9BQVgsQ0FBbUIsS0FBbkIsQ0FBOUIsQ0FBZDtBQUNBLFFBQU0sYUFBYSxXQUFXLE1BQVgsQ0FBa0IsS0FBbEIsQ0FBbkI7QUFDQSxRQUFNLFdBQVcsV0FBVyxVQUFYLEtBQTBCLElBQTFCLEdBQWlDLFdBQVcsVUFBWCxDQUFzQixLQUF0QixDQUFqQyxHQUFnRSxJQUFqRjs7QUFFQSxVQUFNLE9BQU4sQ0FBYyxVQUFDLElBQUQsRUFBVTtBQUN0QixVQUFJLGNBQWMsR0FBbEIsRUFBdUI7QUFDckIsaUJBQVMsSUFBVCxFQUFlLFVBQWYsRUFBMkIsR0FBM0I7QUFDQSxnQkFBUSxJQUFSLEVBQWMsR0FBZDtBQUNBLG9CQUFZLElBQVosRUFBa0IsUUFBbEIsRUFBNEIsR0FBNUI7QUFDRCxPQUpELE1BSU8sSUFBSSxjQUFjLE1BQWxCLEVBQTBCO0FBQy9CLGlCQUFTLElBQVQsRUFBZSxVQUFmLEVBQTJCLE1BQTNCO0FBQ0EsZ0JBQVEsSUFBUixFQUFjLE1BQWQ7QUFDQSxvQkFBWSxJQUFaLEVBQWtCLFFBQWxCLEVBQTRCLE1BQTVCO0FBQ0QsT0FKTSxNQUlBO0FBQ0wsaUJBQVMsSUFBVCxFQUFlLFVBQWYsRUFBMkIsTUFBM0I7QUFDQSxnQkFBUSxJQUFSLEVBQWMsTUFBZDtBQUNBLG9CQUFZLElBQVosRUFBa0IsUUFBbEIsRUFBNEIsTUFBNUI7QUFDRDtBQUNGLEtBZEQ7QUFlRCxHQXBCRDtBQXFCRCxDQXRCRDs7QUF3QmUsU0FBUyxLQUFULENBQWUsSUFBZixFQUFxQixRQUFyQixFQUErQjtBQUM1QyxNQUFNLGFBQWE7QUFDakIsZ0JBQVksS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixLQUF2QixDQUE2QixJQUE3QixDQURLO0FBRWpCLFlBQVEsS0FBSyxPQUFMLENBQWEsS0FBYixDQUFtQixLQUFuQixDQUF5QixJQUF6QixDQUZTO0FBR2pCLGdCQUFZLEtBQUssT0FBTCxDQUFhLFFBQWIsR0FBd0IsS0FBSyxPQUFMLENBQWEsUUFBYixDQUFzQixLQUF0QixDQUE0QixJQUE1QixDQUF4QixHQUE0RCxJQUh2RDtBQUlqQixhQUFTLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsS0FBcEIsQ0FBMEIsSUFBMUI7QUFKUSxHQUFuQjs7QUFPQSxPQUFLLGdCQUFMLENBQXNCLE9BQXRCLEVBQStCLFVBQUMsS0FBRCxFQUFXO0FBQ3hDLFVBQU0sY0FBTjs7QUFFQSxhQUFTLFVBQVQ7QUFDRCxHQUpEO0FBS0EsT0FBSyxnQkFBTCxDQUFzQixTQUF0QixFQUFpQyxVQUFDLEtBQUQsRUFBVztBQUMxQyxRQUFJLE1BQU0sS0FBTixLQUFnQixTQUFTLEtBQTdCLEVBQW9DO0FBQ2xDLFlBQU0sY0FBTjs7QUFFQSxlQUFTLFVBQVQ7QUFDRDtBQUNGLEdBTkQ7QUFPRDs7Ozs7Ozs7a0JDM0Z1QixROztBQXZCeEI7Ozs7OztBQUVBLElBQU0sV0FBVyxTQUFYLFFBQVcsQ0FBVSxHQUFWLEVBQWUsS0FBZixFQUFzQjtBQUNyQyxNQUFJLFlBQUosQ0FBaUIsVUFBakIsRUFBNkIsQ0FBQyxDQUE5QjtBQUNBLE1BQUksWUFBSixDQUFpQixlQUFqQixFQUFrQyxLQUFsQztBQUNBLFFBQU0sWUFBTixDQUFtQixhQUFuQixFQUFrQyxJQUFsQztBQUNELENBSkQsQyxDQUxBOzs7QUFXQSxJQUFNLFlBQVksU0FBWixTQUFZLENBQVUsSUFBVixFQUFnQixNQUFoQixFQUF3QjtBQUN4QyxPQUFLLE9BQUwsQ0FBYSxVQUFDLEdBQUQsRUFBTSxLQUFOLEVBQWdCO0FBQzNCLGFBQVMsR0FBVCxFQUFjLE9BQU8sS0FBUCxDQUFkO0FBQ0QsR0FGRDtBQUdELENBSkQ7O0FBTUEsSUFBTSxVQUFVLFNBQVYsT0FBVSxDQUFVLEdBQVYsRUFBZSxLQUFmLFFBQXdDO0FBQUEsTUFBaEIsSUFBZ0IsUUFBaEIsSUFBZ0I7QUFBQSxNQUFWLE1BQVUsUUFBVixNQUFVOztBQUN0RCxZQUFVLElBQVYsRUFBZ0IsTUFBaEI7O0FBRUEsTUFBSSxLQUFKO0FBQ0EsTUFBSSxZQUFKLENBQWlCLFVBQWpCLEVBQTZCLENBQTdCO0FBQ0EsTUFBSSxZQUFKLENBQWlCLGVBQWpCLEVBQWtDLElBQWxDO0FBQ0EsUUFBTSxZQUFOLENBQW1CLGFBQW5CLEVBQWtDLEtBQWxDO0FBQ0QsQ0FQRDs7QUFTZSxTQUFTLFFBQVQsQ0FBa0IsU0FBbEIsRUFBNkIsUUFBN0IsRUFBdUM7QUFDcEQsTUFBTSxPQUFPLDZCQUFjLFVBQVUsZ0JBQVYsQ0FBMkIsY0FBM0IsQ0FBZCxFQUEwRCxTQUExRCxDQUFiO0FBQ0EsTUFBTSxTQUFTLDZCQUFjLFVBQVUsZ0JBQVYsQ0FBMkIsbUJBQTNCLENBQWQsRUFBK0QsU0FBL0QsQ0FBZjtBQUNBLE1BQU0sWUFBWSxFQUFFLFVBQUYsRUFBUSxjQUFSLEVBQWxCO0FBQ0EsTUFBTSxXQUFXLEtBQUssQ0FBTCxDQUFqQjtBQUNBLE1BQU0sVUFBVSxLQUFLLEtBQUssTUFBTCxHQUFjLENBQW5CLENBQWhCO0FBQ0EsTUFBTSxhQUFhLFNBQVMsY0FBVCxDQUF3QixTQUFTLFlBQVQsQ0FBc0IsZUFBdEIsQ0FBeEIsQ0FBbkI7QUFDQSxNQUFNLFlBQVksU0FBUyxjQUFULENBQXdCLFFBQVEsWUFBUixDQUFxQixlQUFyQixDQUF4QixDQUFsQjs7QUFFQSxPQUFLLE9BQUwsQ0FBYSxVQUFDLEdBQUQsRUFBTSxLQUFOLEVBQWdCO0FBQzNCLFFBQU0sVUFBVSxLQUFLLFFBQVEsQ0FBYixLQUFtQixPQUFuQztBQUNBLFFBQU0sVUFBVSxLQUFLLFFBQVEsQ0FBYixLQUFtQixRQUFuQztBQUNBLFFBQU0sUUFBUSxTQUFTLGNBQVQsQ0FBd0IsSUFBSSxZQUFKLENBQWlCLGVBQWpCLENBQXhCLENBQWQ7QUFDQSxRQUFNLFlBQVksU0FBUyxjQUFULENBQXdCLFFBQVEsWUFBUixDQUFxQixlQUFyQixDQUF4QixDQUFsQjtBQUNBLFFBQU0sWUFBWSxTQUFTLGNBQVQsQ0FBd0IsUUFBUSxZQUFSLENBQXFCLGVBQXJCLENBQXhCLENBQWxCOztBQUVBO0FBQ0EsUUFBSSxnQkFBSixDQUFxQixPQUFyQixFQUE4QixVQUFDLEtBQUQsRUFBVztBQUN2QyxZQUFNLGNBQU47O0FBRUEsY0FBUSxHQUFSLEVBQWEsS0FBYixFQUFvQixTQUFwQjtBQUNELEtBSkQ7O0FBTUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsSUFBekIsSUFBaUMsTUFBTSxLQUFOLEtBQWdCLFNBQVMsRUFBOUQsRUFBa0U7QUFDaEUsY0FBTSxjQUFOOztBQUVBLGdCQUFRLE9BQVIsRUFBaUIsU0FBakIsRUFBNEIsU0FBNUI7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsS0FBekIsSUFBa0MsTUFBTSxLQUFOLEtBQWdCLFNBQVMsSUFBL0QsRUFBcUU7QUFDbkUsY0FBTSxjQUFOOztBQUVBLGdCQUFRLE9BQVIsRUFBaUIsU0FBakIsRUFBNEIsU0FBNUI7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsSUFBN0IsRUFBbUM7QUFDakMsY0FBTSxjQUFOOztBQUVBLGdCQUFRLFFBQVIsRUFBa0IsVUFBbEIsRUFBOEIsU0FBOUI7QUFDRDtBQUNGLEtBTkQ7O0FBUUE7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFNBQXJCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFVBQUksTUFBTSxLQUFOLEtBQWdCLFNBQVMsR0FBN0IsRUFBa0M7QUFDaEMsY0FBTSxjQUFOOztBQUVBLGdCQUFRLE9BQVIsRUFBaUIsU0FBakIsRUFBNEIsU0FBNUI7QUFDRDtBQUNGLEtBTkQ7QUFPRCxHQWpERDtBQWtERDs7Ozs7QUNsRkQ7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQU5BOzs7QUFRQSxJQUFNLFdBQVc7QUFDZixPQUFLLENBRFU7QUFFZixTQUFPLEVBRlE7QUFHZixVQUFRLEVBSE87QUFJZixPQUFLLEVBSlU7QUFLZixRQUFNLEVBTFM7QUFNZixRQUFNLEVBTlM7QUFPZixNQUFJLEVBUFc7QUFRZixTQUFPLEVBUlE7QUFTZixRQUFNO0FBVFMsQ0FBakI7O0FBWUEsSUFBTSxvQkFBb0IsU0FBcEIsaUJBQW9CLENBQVUsU0FBVixFQUFxQjtBQUM3QyxNQUFNLGdCQUFnQixVQUFVLE9BQVYsQ0FBa0IsU0FBeEM7O0FBRUEsTUFBSSxrQkFBa0IsT0FBdEIsRUFBK0I7QUFDN0IsMEJBQU0sU0FBTixFQUFpQixRQUFqQjtBQUNEO0FBQ0QsTUFBSSxrQkFBa0IsUUFBdEIsRUFBZ0M7QUFDOUIsMkJBQU8sU0FBUCxFQUFrQixRQUFsQjtBQUNEO0FBQ0QsTUFBSSxrQkFBa0IsS0FBdEIsRUFBNkI7QUFDM0IsNkJBQVMsU0FBVCxFQUFvQixRQUFwQjtBQUNEO0FBQ0QsTUFBSSxrQkFBa0IsV0FBdEIsRUFBbUM7QUFDakMsOEJBQVUsU0FBVixFQUFxQixRQUFyQjtBQUNEO0FBQ0YsQ0FmRDs7QUFpQkEsU0FBUyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsWUFBTTtBQUNsRCxNQUFNLGFBQWEsU0FBUyxnQkFBVCxDQUEwQixrQkFBMUIsQ0FBbkI7O0FBRUEsYUFBVyxPQUFYLENBQW1CLFVBQUMsU0FBRCxFQUFlO0FBQ2hDLHNCQUFrQixTQUFsQjtBQUNELEdBRkQ7O0FBSUEsTUFBTSxXQUFXLElBQUksZ0JBQUosQ0FBcUIsVUFBQyxTQUFELEVBQWU7QUFDbkQsY0FBVSxPQUFWLENBQWtCLFVBQUMsUUFBRCxFQUFjO0FBQzlCLGVBQVMsVUFBVCxDQUFvQixPQUFwQixDQUE0QixVQUFDLFNBQUQsRUFBZTtBQUN6QyxZQUFJLE9BQU8sVUFBVSxZQUFqQixLQUFrQyxVQUF0QyxFQUFrRDtBQUNoRCxjQUFJLFVBQVUsWUFBVixDQUF1QixnQkFBdkIsQ0FBSixFQUE4QztBQUM1Qyw4QkFBa0IsU0FBbEI7QUFDRDtBQUNGO0FBQ0YsT0FORDtBQU9ELEtBUkQ7QUFTRCxHQVZnQixDQUFqQjtBQVdBLFdBQVMsT0FBVCxDQUFpQixTQUFTLElBQTFCLEVBQWdDO0FBQzlCLGVBQVcsSUFEbUI7QUFFOUIsYUFBUztBQUZxQixHQUFoQztBQUlELENBdEJEOzs7Ozs7OztrQkNsQ3dCLGE7QUFIeEI7OztBQUdlLFNBQVMsYUFBVCxDQUF1QixTQUF2QixFQUFrQyxTQUFsQyxFQUE2QztBQUMxRCxNQUFNLFFBQVEsRUFBZDs7QUFFQSxZQUFVLE9BQVYsQ0FBa0IsVUFBQyxRQUFELEVBQWM7QUFDOUIsUUFBSSxTQUFTLFNBQVMsVUFBdEI7O0FBRUEsV0FBTyxXQUFXLFNBQWxCLEVBQTZCO0FBQzNCLFVBQUksT0FBTyxPQUFQLENBQWUsU0FBZixLQUE2QixVQUFVLE9BQVYsQ0FBa0IsU0FBbkQsRUFBOEQ7QUFDNUQ7QUFDRDtBQUNELGVBQVMsT0FBTyxVQUFoQjtBQUNEO0FBQ0QsVUFBTSxJQUFOLENBQVcsUUFBWDtBQUNELEdBVkQ7O0FBWUEsU0FBTyxLQUFQO0FBQ0QiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyogYWNjb3JkaW9uc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmltcG9ydCBwcmV2ZW50TmVzdGVkIGZyb20gJy4vLi4vdG9vbHMvcHJldmVudE5lc3RlZCc7XG5cbmNvbnN0IGNsb3NlVGFiID0gZnVuY3Rpb24gKHRhYiwgcGFuZWwpIHtcbiAgdGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG4gIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcbn07XG5cbmNvbnN0IGNsb3NlVGFicyA9IGZ1bmN0aW9uIChjdXJyZW50VGFiLCB0YWJzLCBwYW5lbHMpIHtcbiAgdGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XG4gICAgaWYgKHRhYiAhPT0gY3VycmVudFRhYikge1xuICAgICAgY2xvc2VUYWIodGFiLCBwYW5lbHNbaW5kZXhdKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgZGVzZWxlY3RUYWIgPSBmdW5jdGlvbiAodGFiKSB7XG4gIHRhYi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgLTEpO1xuICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgZmFsc2UpO1xufTtcblxuY29uc3QgZGVzZWxlY3RUYWJzID0gZnVuY3Rpb24gKHRhYnMpIHtcbiAgdGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICBkZXNlbGVjdFRhYih0YWIpO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZVRhYiA9IGZ1bmN0aW9uICh0YWIsIHBhbmVsLCB7IHRhYnMsIHBhbmVscyB9LCB7IG11bHRpc2VsZWN0YWJsZSB9KSB7XG4gIGlmICghbXVsdGlzZWxlY3RhYmxlKSB7XG4gICAgY2xvc2VUYWJzKHRhYiwgdGFicywgcGFuZWxzKTtcbiAgfVxuXG4gIHRhYi5mb2N1cygpO1xuICB0YWIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgdHJ1ZSk7XG4gIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0YWIuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgIT09ICd0cnVlJyk7XG4gIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCBwYW5lbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJykgIT09ICd0cnVlJyk7XG59O1xuXG5jb25zdCBzZWxlY3RUYWIgPSBmdW5jdGlvbiAodGFiLCB0YWJzKSB7XG4gIGlmICh0YWJzKSB7XG4gICAgZGVzZWxlY3RUYWJzKHRhYnMpO1xuICAgIHRhYi5mb2N1cygpO1xuICB9XG5cbiAgdGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHRydWUpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWNjb3JkaW9uKGNvbXBvbmVudCwga2V5Q29kZXMpIHtcbiAgY29uc3QgdGFicyA9IHByZXZlbnROZXN0ZWQoY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyb2xlPVwidGFiXCJdJyksIGNvbXBvbmVudCk7XG4gIGNvbnN0IHBhbmVscyA9IHByZXZlbnROZXN0ZWQoY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyb2xlPVwidGFicGFuZWxcIl0nKSwgY29tcG9uZW50KTtcbiAgY29uc3QgdGFiUGFuZWxzID0geyB0YWJzLCBwYW5lbHMgfTtcbiAgY29uc3QgZmlyc3RUYWIgPSB0YWJzWzBdO1xuICBjb25zdCBsYXN0VGFiID0gdGFic1t0YWJzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBtdWx0aXNlbGVjdGFibGUgPSAoY29tcG9uZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1tdWx0aXNlbGVjdGFibGUnKSB8fCAndHJ1ZScpID09PSAndHJ1ZSc7XG5cbiAgdGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcHJldlRhYiA9IHRhYnNbaW5kZXggLSAxXSB8fCBsYXN0VGFiO1xuICAgIGNvbnN0IG5leHRUYWIgPSB0YWJzW2luZGV4ICsgMV0gfHwgZmlyc3RUYWI7XG4gICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWIuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykpO1xuXG4gICAgLy8gdG9nZ2xlIHRhYlxuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdG9nZ2xlVGFiKHRhYiwgcGFuZWwsIHRhYlBhbmVscywgeyBtdWx0aXNlbGVjdGFibGUgfSk7XG4gICAgfSk7XG5cbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5lbnRlciB8fCBldmVudC53aGljaCA9PT0ga2V5Q29kZXMuZXNjYXBlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdG9nZ2xlVGFiKHRhYiwgcGFuZWwsIHRhYlBhbmVscywgeyBtdWx0aXNlbGVjdGFibGUgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBzZWxlY3QgdGFiXG4gICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgc2VsZWN0VGFiKHRhYik7XG4gICAgfSk7XG5cbiAgICAvLyBzZWxlY3QgcHJldiB0YWJcbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5sZWZ0IHx8IGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy51cCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHNlbGVjdFRhYihwcmV2VGFiLCB0YWJzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHNlbGVjdCBuZXh0IHRhYlxuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IGtleUNvZGVzLnJpZ2h0IHx8IGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5kb3duKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgc2VsZWN0VGFiKG5leHRUYWIsIHRhYnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gc2VsZWN0IGZpcnN0IHRhYlxuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IGtleUNvZGVzLmhvbWUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBzZWxlY3RUYWIoZmlyc3RUYWIsIHRhYnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gc2VsZWN0IGxhc3QgdGFiXG4gICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0ga2V5Q29kZXMuZW5kKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgc2VsZWN0VGFiKGxhc3RUYWIsIHRhYnMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsIi8qIGRpYWxvZ3NcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5jb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBhZ2UnKTtcbmNvbnN0IGRvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1kb2N1bWVudCcpO1xuXG5jb25zdCBvcGVuRGlhbG9nID0gZnVuY3Rpb24gKGNvbXBvbmVudCwga2V5Q29kZXMpIHtcbiAgY29uc3QgZm9jdXNhYmxlRWxlbXMgPSBjb21wb25lbnQucXVlcnlTZWxlY3RvckFsbCgnW2hyZWZdLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXScpO1xuICBjb25zdCBmaXJzdEZvY3VzYWJsZUVsZW0gPSBmb2N1c2FibGVFbGVtc1swXTtcbiAgY29uc3Qgc2Vjb25kRm9jdXNhYmxlRWxlbSA9IGZvY3VzYWJsZUVsZW1zWzFdO1xuICBjb25zdCBsYXN0Rm9jdXNhYmxlRWxlbSA9IGZvY3VzYWJsZUVsZW1zW2ZvY3VzYWJsZUVsZW1zLmxlbmd0aCAtIDFdO1xuXG4gIGNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuICBkb2Muc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICBwYWdlLmNsYXNzTGlzdC5hZGQoJ2lzLWluYWN0aXZlJyk7XG5cbiAgLy8gcmV0dXJuIGlmIG5vIGZvY3VzYWJsZSBlbGVtZW50XG4gIGlmICghZmlyc3RGb2N1c2FibGVFbGVtKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGlmIChzZWNvbmRGb2N1c2FibGVFbGVtKSB7XG4gICAgICBzZWNvbmRGb2N1c2FibGVFbGVtLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0Rm9jdXNhYmxlRWxlbS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8vIHRyYXBwaW5nIGZvY3VzIGluc2lkZSB0aGUgZGlhbG9nXG4gICAgZm9jdXNhYmxlRWxlbXMuZm9yRWFjaCgoZm9jdXNhYmxlRWxlbSkgPT4ge1xuICAgICAgaWYgKGZvY3VzYWJsZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBmb2N1c2FibGVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCB0YWIgPSBldmVudC53aGljaCA9PT0ga2V5Q29kZXMudGFiO1xuXG4gICAgICAgICAgaWYgKCF0YWIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBmaXJzdEZvY3VzYWJsZUVsZW0pIHsgLy8gc2hpZnQgKyB0YWJcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICBsYXN0Rm9jdXNhYmxlRWxlbS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09PSBsYXN0Rm9jdXNhYmxlRWxlbSkgeyAvLyB0YWJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGZpcnN0Rm9jdXNhYmxlRWxlbS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIDEwMCk7XG59O1xuXG5jb25zdCBjbG9zZURpYWxvZyA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHNyYykge1xuICBjb25zdCBuZXN0ZWQgPSAoc3JjLmRhdGFzZXQubmVzdGVkIHx8ICdmYWxzZScpID09PSAndHJ1ZSc7XG5cbiAgLy8gY2hlY2sgaWYgZGlhbG9nIGlzIGluc2lkZSBhbm90aGVyIGRpYWxvZ1xuICBpZiAoIW5lc3RlZCkge1xuICAgIGRvYy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuICAgIHBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW5hY3RpdmUnKTtcbiAgfVxuXG4gIGNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgLy8gcmVzdG9yaW5nIGZvY3VzXG4gIHNyYy5mb2N1cygpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlhbG9nKHNyYywga2V5Q29kZXMpIHtcbiAgY29uc3QgY29tcG9uZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7c3JjLmRhdGFzZXQudGFyZ2V0fWApO1xuICBjb25zdCBkaXNtaXNzVGFyZ2V0cyA9IGNvbXBvbmVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1kaXNtaXNzXScpO1xuICBjb25zdCB7IG92ZXJsYXkgfSA9IHNyYy5kYXRhc2V0O1xuXG4gIC8vIG9wZW4gZGlhbG9nXG4gIHNyYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBvcGVuRGlhbG9nKGNvbXBvbmVudCwga2V5Q29kZXMpO1xuICB9KTtcblxuICBzcmMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC53aGljaCA9PT0ga2V5Q29kZXMuZW50ZXIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIG9wZW5EaWFsb2coY29tcG9uZW50LCBrZXlDb2Rlcyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBjbG9zZSBkaWFsb2dcbiAgY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQud2hpY2ggPT09IGtleUNvZGVzLmVzY2FwZSkge1xuICAgICAgY2xvc2VEaWFsb2coY29tcG9uZW50LCBzcmMpO1xuICAgIH1cbiAgfSk7XG5cbiAgZGlzbWlzc1RhcmdldHMuZm9yRWFjaCgoZGlzbWlzc1RhcmdldCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2Rpc21pc3NUYXJnZXQuZGF0YXNldC5kaXNtaXNzfWApO1xuXG4gICAgZGlzbWlzc1RhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY2xvc2VEaWFsb2codGFyZ2V0LCBzcmMpO1xuICAgIH0pO1xuICAgIGRpc21pc3NUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5lbnRlcikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNsb3NlRGlhbG9nKHRhcmdldCwgc3JjKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gY29tcG9uZW50ICYmICghb3ZlcmxheSB8fCBvdmVybGF5ID09PSAndHJ1ZScpKSB7XG4gICAgICBjbG9zZURpYWxvZyhjb21wb25lbnQsIHNyYyk7XG4gICAgfVxuICB9KTtcbn1cbiIsIi8qIHN0YXRlc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmNvbnN0IGFkZCA9ICdhZGQnO1xuY29uc3QgcmVtb3ZlID0gJ3JlbW92ZSc7XG5jb25zdCB0b2dnbGUgPSAndG9nZ2xlJztcbmNvbnN0IGFyaWFBdHRyaWJ1dGVzID0gW1xuICB7XG4gICAgdHlwZTogJ2FyaWEtaGlkZGVuJyxcbiAgICBpbml0OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogJ2FyaWEtZGlzYWJsZWQnLFxuICAgIGluaXQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAnYXJpYS1zZWxlY3RlZCcsXG4gICAgaW5pdDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAnYXJpYS1leHBhbmRlZCcsXG4gICAgaW5pdDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAnYXJpYS1wcmVzc2VkJyxcbiAgICBpbml0OiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6ICdhcmlhLWNoZWNrZWQnLFxuICAgIGluaXQ6IGZhbHNlLFxuICB9LFxuXTtcblxuY29uc3Qgc2V0Q2xhc3MgPSBmdW5jdGlvbiAoZWxlbSwgc3RhdGVDbGFzcywgYmVoYXZpb3VyKSB7XG4gIGlmIChzdGF0ZUNsYXNzICE9PSAnZmFsc2UnKSB7XG4gICAgaWYgKGJlaGF2aW91ciA9PT0gYWRkKSB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoc3RhdGVDbGFzcyk7XG4gICAgfSBlbHNlIGlmIChiZWhhdmlvdXIgPT09IHJlbW92ZSkge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKHN0YXRlQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC50b2dnbGUoc3RhdGVDbGFzcyk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBzZXRBcmlhID0gZnVuY3Rpb24gKGVsZW0sIGJlaGF2aW91cikge1xuICBhcmlhQXR0cmlidXRlcy5mb3JFYWNoKChhcmlhQXR0cmlidXRlKSA9PiB7XG4gICAgY29uc3QgeyB0eXBlLCBpbml0IH0gPSBhcmlhQXR0cmlidXRlO1xuXG4gICAgaWYgKGVsZW0uaGFzQXR0cmlidXRlKHR5cGUpKSB7XG4gICAgICBpZiAoYmVoYXZpb3VyID09PSBhZGQpIHtcbiAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUodHlwZSwgIWluaXQpO1xuICAgICAgfSBlbHNlIGlmIChiZWhhdmlvdXIgPT09IHJlbW92ZSkge1xuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSh0eXBlLCBpbml0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKHR5cGUsIGVsZW0uZ2V0QXR0cmlidXRlKHR5cGUpICE9PSAndHJ1ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBzZXRUYWJpbmRleCA9IGZ1bmN0aW9uIChlbGVtLCB0YWJpbmRleCwgYmVoYXZpb3VyKSB7XG4gIGlmICh0YWJpbmRleCA9PT0gJ3RydWUnKSB7XG4gICAgaWYgKGJlaGF2aW91ciA9PT0gYWRkKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgICB9IGVsc2UgaWYgKGJlaGF2aW91ciA9PT0gcmVtb3ZlKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIGVsZW0uZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpID09PSAnLTEnID8gMCA6IC0xKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHNldFN0YXRlID0gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycy5iZWhhdmlvdXJzLmZvckVhY2goKGJlaGF2aW91ciwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3BhcmFtZXRlcnMudGFyZ2V0c1tpbmRleF19YCk7XG4gICAgY29uc3Qgc3RhdGVDbGFzcyA9IHBhcmFtZXRlcnMuc3RhdGVzW2luZGV4XTtcbiAgICBjb25zdCB0YWJpbmRleCA9IHBhcmFtZXRlcnMudGFiaW5kZXhlcyAhPT0gbnVsbCA/IHBhcmFtZXRlcnMudGFiaW5kZXhlc1tpbmRleF0gOiBudWxsO1xuXG4gICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgaWYgKGJlaGF2aW91ciA9PT0gYWRkKSB7XG4gICAgICAgIHNldENsYXNzKGVsZW0sIHN0YXRlQ2xhc3MsIGFkZCk7XG4gICAgICAgIHNldEFyaWEoZWxlbSwgYWRkKTtcbiAgICAgICAgc2V0VGFiaW5kZXgoZWxlbSwgdGFiaW5kZXgsIGFkZCk7XG4gICAgICB9IGVsc2UgaWYgKGJlaGF2aW91ciA9PT0gcmVtb3ZlKSB7XG4gICAgICAgIHNldENsYXNzKGVsZW0sIHN0YXRlQ2xhc3MsIHJlbW92ZSk7XG4gICAgICAgIHNldEFyaWEoZWxlbSwgcmVtb3ZlKTtcbiAgICAgICAgc2V0VGFiaW5kZXgoZWxlbSwgdGFiaW5kZXgsIHJlbW92ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRDbGFzcyhlbGVtLCBzdGF0ZUNsYXNzLCB0b2dnbGUpO1xuICAgICAgICBzZXRBcmlhKGVsZW0sIHRvZ2dsZSk7XG4gICAgICAgIHNldFRhYmluZGV4KGVsZW0sIHRhYmluZGV4LCB0b2dnbGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXRlKGVsZW0sIGtleUNvZGVzKSB7XG4gIGNvbnN0IHBhcmFtZXRlcnMgPSB7XG4gICAgYmVoYXZpb3VyczogZWxlbS5kYXRhc2V0LmJlaGF2aW91ci5zcGxpdCgnLCAnKSxcbiAgICBzdGF0ZXM6IGVsZW0uZGF0YXNldC5zdGF0ZS5zcGxpdCgnLCAnKSxcbiAgICB0YWJpbmRleGVzOiBlbGVtLmRhdGFzZXQudGFiaW5kZXggPyBlbGVtLmRhdGFzZXQudGFiaW5kZXguc3BsaXQoJywgJykgOiBudWxsLFxuICAgIHRhcmdldHM6IGVsZW0uZGF0YXNldC50YXJnZXQuc3BsaXQoJywgJyksXG4gIH07XG5cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBzZXRTdGF0ZShwYXJhbWV0ZXJzKTtcbiAgfSk7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC53aGljaCA9PT0ga2V5Q29kZXMuZW50ZXIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHNldFN0YXRlKHBhcmFtZXRlcnMpO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvKiB0YWIgcGFuZWxzXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHByZXZlbnROZXN0ZWQgZnJvbSAnLi8uLi90b29scy9wcmV2ZW50TmVzdGVkJztcblxuY29uc3QgY2xvc2VUYWIgPSBmdW5jdGlvbiAodGFiLCBwYW5lbCkge1xuICB0YWIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGZhbHNlKTtcbiAgcGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xufTtcblxuY29uc3QgY2xvc2VUYWJzID0gZnVuY3Rpb24gKHRhYnMsIHBhbmVscykge1xuICB0YWJzLmZvckVhY2goKHRhYiwgaW5kZXgpID0+IHtcbiAgICBjbG9zZVRhYih0YWIsIHBhbmVsc1tpbmRleF0pO1xuICB9KTtcbn07XG5cbmNvbnN0IG9wZW5UYWIgPSBmdW5jdGlvbiAodGFiLCBwYW5lbCwgeyB0YWJzLCBwYW5lbHMgfSkge1xuICBjbG9zZVRhYnModGFicywgcGFuZWxzKTtcblxuICB0YWIuZm9jdXMoKTtcbiAgdGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHRydWUpO1xuICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGFiUGFuZWwoY29tcG9uZW50LCBrZXlDb2Rlcykge1xuICBjb25zdCB0YWJzID0gcHJldmVudE5lc3RlZChjb21wb25lbnQucXVlcnlTZWxlY3RvckFsbCgnW3JvbGU9XCJ0YWJcIl0nKSwgY29tcG9uZW50KTtcbiAgY29uc3QgcGFuZWxzID0gcHJldmVudE5lc3RlZChjb21wb25lbnQucXVlcnlTZWxlY3RvckFsbCgnW3JvbGU9XCJ0YWJwYW5lbFwiXScpLCBjb21wb25lbnQpO1xuICBjb25zdCB0YWJQYW5lbHMgPSB7IHRhYnMsIHBhbmVscyB9O1xuICBjb25zdCBmaXJzdFRhYiA9IHRhYnNbMF07XG4gIGNvbnN0IGxhc3RUYWIgPSB0YWJzW3RhYnMubGVuZ3RoIC0gMV07XG4gIGNvbnN0IGZpcnN0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaXJzdFRhYi5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKSk7XG4gIGNvbnN0IGxhc3RQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxhc3RUYWIuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykpO1xuXG4gIHRhYnMuZm9yRWFjaCgodGFiLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHByZXZUYWIgPSB0YWJzW2luZGV4IC0gMV0gfHwgbGFzdFRhYjtcbiAgICBjb25zdCBuZXh0VGFiID0gdGFic1tpbmRleCArIDFdIHx8IGZpcnN0VGFiO1xuICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpKTtcbiAgICBjb25zdCBwcmV2UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2VGFiLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpKTtcbiAgICBjb25zdCBuZXh0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuZXh0VGFiLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpKTtcblxuICAgIC8vIG9wZW4gdGFiXG4gICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBvcGVuVGFiKHRhYiwgcGFuZWwsIHRhYlBhbmVscyk7XG4gICAgfSk7XG5cbiAgICAvLyBvcGVuIHByZXYgdGFiXG4gICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0ga2V5Q29kZXMubGVmdCB8fCBldmVudC53aGljaCA9PT0ga2V5Q29kZXMudXApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBvcGVuVGFiKHByZXZUYWIsIHByZXZQYW5lbCwgdGFiUGFuZWxzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIG9wZW4gbmV4dCB0YWJcbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5yaWdodCB8fCBldmVudC53aGljaCA9PT0ga2V5Q29kZXMuZG93bikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIG9wZW5UYWIobmV4dFRhYiwgbmV4dFBhbmVsLCB0YWJQYW5lbHMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gb3BlbiBmaXJzdCB0YWJcbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5ob21lKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgb3BlblRhYihmaXJzdFRhYiwgZmlyc3RQYW5lbCwgdGFiUGFuZWxzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIG9wZW4gbGFzdCB0YWJcbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBrZXlDb2Rlcy5lbmQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBvcGVuVGFiKGxhc3RUYWIsIGxhc3RQYW5lbCwgdGFiUGFuZWxzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvKiBtYWluXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuaW1wb3J0IHN0YXRlIGZyb20gJy4vY29tcG9uZW50cy9zdGF0ZXMnO1xuaW1wb3J0IGRpYWxvZyBmcm9tICcuL2NvbXBvbmVudHMvZGlhbG9ncyc7XG5pbXBvcnQgdGFiUGFuZWwgZnJvbSAnLi9jb21wb25lbnRzL3RhYlBhbmVscyc7XG5pbXBvcnQgYWNjb3JkaW9uIGZyb20gJy4vY29tcG9uZW50cy9hY2NvcmRpb25zJztcblxuY29uc3Qga2V5Q29kZXMgPSB7XG4gIHRhYjogOSxcbiAgZW50ZXI6IDEzLFxuICBlc2NhcGU6IDI3LFxuICBlbmQ6IDM1LFxuICBob21lOiAzNixcbiAgbGVmdDogMzcsXG4gIHVwOiAzOCxcbiAgcmlnaHQ6IDM5LFxuICBkb3duOiA0MCxcbn07XG5cbmNvbnN0IHRlc3RDb21wb25lbnRUeXBlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICBjb25zdCBkYXRhQ29tcG9uZW50ID0gY29tcG9uZW50LmRhdGFzZXQuY29tcG9uZW50O1xuXG4gIGlmIChkYXRhQ29tcG9uZW50ID09PSAnc3RhdGUnKSB7XG4gICAgc3RhdGUoY29tcG9uZW50LCBrZXlDb2Rlcyk7XG4gIH1cbiAgaWYgKGRhdGFDb21wb25lbnQgPT09ICdkaWFsb2cnKSB7XG4gICAgZGlhbG9nKGNvbXBvbmVudCwga2V5Q29kZXMpO1xuICB9XG4gIGlmIChkYXRhQ29tcG9uZW50ID09PSAndGFiJykge1xuICAgIHRhYlBhbmVsKGNvbXBvbmVudCwga2V5Q29kZXMpO1xuICB9XG4gIGlmIChkYXRhQ29tcG9uZW50ID09PSAnYWNjb3JkaW9uJykge1xuICAgIGFjY29yZGlvbihjb21wb25lbnQsIGtleUNvZGVzKTtcbiAgfVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgY29tcG9uZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbXBvbmVudF0nKTtcblxuICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4ge1xuICAgIHRlc3RDb21wb25lbnRUeXBlKGNvbXBvbmVudCk7XG4gIH0pO1xuXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQuZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcG9uZW50JykpIHtcbiAgICAgICAgICAgIHRlc3RDb21wb25lbnRUeXBlKGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBzdWJ0cmVlOiB0cnVlLFxuICB9KTtcbn0pO1xuIiwiLyogcHJldmVudCBuZXN0ZWRcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcmV2ZW50TmVzdGVkKHNlbGVjdG9ycywgY29tcG9uZW50KSB7XG4gIGNvbnN0IGVsZW1zID0gW107XG5cbiAgc2VsZWN0b3JzLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgbGV0IHBhcmVudCA9IHNlbGVjdG9yLnBhcmVudE5vZGU7XG5cbiAgICB3aGlsZSAocGFyZW50ICE9PSBjb21wb25lbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuZGF0YXNldC5jb21wb25lbnQgPT09IGNvbXBvbmVudC5kYXRhc2V0LmNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgZWxlbXMucHVzaChzZWxlY3Rvcik7XG4gIH0pO1xuXG4gIHJldHVybiBlbGVtcztcbn1cbiJdfQ=="}